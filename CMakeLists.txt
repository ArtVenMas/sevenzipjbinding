CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
PROJECT(SevenZipJBinding)

#SET(SEVENZIPJBINDING_VERSON 0.5.0)

IF (SEVENZIPJBINDING_VERSON)
    SET(RELEASE_PATH ${PROJECT_BINARY_DIR}/releases/${SEVENZIPJBINDING_VERSON})
    SET(SEVENZIPJBINDING_VERSON_POSTFIX "-${SEVENZIPJBINDING_VERSON}")
ELSE(SEVENZIPJBINDING_VERSON)
    SET(RELEASE_PATH ${PROJECT_BINARY_DIR})
    SET(SEVENZIPJBINDING_VERSON_POSTFIX "")
ENDIF(SEVENZIPJBINDING_VERSON)

SET(SEVENZIPJBINDING_ZIP ${RELEASE_PATH}/sevenzipjbinding${SEVENZIPJBINDING_VERSON_POSTFIX}.zip) # TODO


ADD_SUBDIRECTORY(jbinding-java)
ADD_SUBDIRECTORY(jbinding-cpp)

GET_PROPERTY(SEVENZIP_JBINDING_JAR  GLOBAL PROPERTY SEVENZIP_JBINDING_JAR) 

MESSAGE("----------------------------")
MESSAGE("Platform: ${PLATFORM}")
MESSAGE("JAR: ${JAVA_ARCHIVE}")
MESSAGE("OUTPUT JAR: ${SEVENZIP_JBINDING_JAR}")
MESSAGE("SEVENZIPJBINDING_ZIP: ${SEVENZIPJBINDING_ZIP}")
MESSAGE("----------------------------")
    
FILE(REMOVE ${SEVENZIPJBINDING_ZIP})