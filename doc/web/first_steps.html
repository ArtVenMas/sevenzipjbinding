<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Welcome to 7-Zip-JBinding project</title>
<link href="styles.css" rel="stylesheet" type="text/css">
</head><body>
<center>
<table><tr><td width=1000>
<a href="http://sourceforge.net/donate/index.php?group_id=210915"><img src="http://images.sourceforge.net/images/project-support.jpg" width="88" height="32" border="0" alt="Support This Project" /></a>
<a href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=210915&amp;type=2" width="125" height="37" border="0" alt="SourceForge.net Logo" /></a>
<!--&nbsp;<font size="+1">7-Zip-JBinding</font><br> -->

<table border="0" width="100%">
<tr><td><td align="center"><img src="logo2.png" />
<tr height="50">
<tr><td width="240" valign="top" class="menu">
<table class="menu" border="0">
<tr><td><a href="index.html">Home</a>
<tr><td><a href="first_steps.html">Documentation</a><br>
<table class="submenu" border="0">
	<tr><td><a href="first_steps.html" >First steps</a>
	<tr><td><a href="http://sevenzipjbind.sourceforge.net/" class="submenu">Code snippets</a>
	<tr><td><a href="http://sevenzipjbind.sourceforge.net/" class="submenu">JavaDoc</a>
	<tr><td><a href="http://sevenzipjbind.wiki.sourceforge.net/CompileUnderWindowsMinGW" class="submenu">Compiling under MinGW</a>
</table>
<tr><td><a href="http://sourceforge.net/project/showfiles.php?group_id=210915" class="menu">Download</a>
<tr><td><a href="#first_steps" class="menu">First Steps</a>
<tr><td><a href="http://sourceforge.net/forum/forum.php?forum_id=757965" class="menu">Help Forum</a>
</table>
<td>
<h2>Download and extraction</h2>
<p>The most simple way to get 7-Zip-JBinding to work is to download a pre-compiled binary package
for your operating system (<a href="http://sourceforge.net/projects/sevenzipjbind/files/">download link</a>).
All provided packages are Zip-compressed and you will need an extraction utility to expand it. For windows users,
it is highly recommended to secure a copy of <a href="http://sevenzip.sourceforge.net/">7-Zip</a>. Linux and Mac OS X
users may use a corresponding command line tool <a href="http://p7zip.sourceforge.net/">p7Zip</a>.</p>
<br>
<h2>Run an example</h2>
<p>To use 7-Zip-JBinding library you will need two JAR-files from <span class="filename">lib</span> folder of the
distribution in your classpath:</p>
<ul>
	<li> <span class="filename">sevenzip-jbinding.jar</span> - java part of 7-Zip-JBinding. 
		 (<a href="javadoc/index.html">JavaDoc</a>)
	<li> <span class="filename">sevenzipjbinding-&lsaquo;OS&rsaquo;.jar</span> - native libraries for
	the target operating system &lsaquo;OS&rsaquo;
</ul>  
Here is a simple test program that can be used for checking all 7-Zip-JBinding requirements:
<div class="fragment"><pre class="fragment">
<span class="java-keyword">import</span> net.sf.sevenzipjbinding.SevenZip;
<span class="java-keyword">import</span> net.sf.sevenzipjbinding.SevenZipNativeInitializationException;

<span class="java-keyword">public</span> <span class="java-keyword">class</span> SevenZipJBindingInitCheck {
    <span class="java-keyword">public</span> <span class="java-keyword">static</span> <span class="java-keyword">void</span> main(String[] args) {
        <span class="java-keyword">try</span> {
            SevenZip.<span class="java-staticmethod">initSevenZipFromPlatformJAR</span>();
            System.<span class="java-staticfield">out</span>.println(<span class="java-string">"7-Zip-JBinding library was initialized"</span>);
        } <span class="java-keyword">catch</span> (SevenZipNativeInitializationException e) {
            e.printStackTrace();
        }
    }
}
</pre></div>
<div class="snippet-info"><a href="snippets/SevenZipJBindingInitCheck.java">download java code</a></div>
<br>
<p>To run this program correctly you will need to add two 7-Zip-JBinding JAR-files to the classpath.
On Linux it could be done as following:</p>
<div class="fragment"><pre class="fragment">
$ java -cp &lsaquo;path-to-lib&rsaquo;/sevenzip-jbinding.jar:\ 
  &lsaquo;path-to-lib&rsaquo;/sevenzipjbinding-Linux-i686.jar:. \ 
  SevenZipJBindingInitCheck
</pre></div><br>
 
Windows users can do the same with (written in a single line)
<div class="fragment"><pre class="fragment">
C:\Test> java -cp &lsaquo;path-to-lib&rsaquo;\sevenzip-jbinding.jar; 
  &lsaquo;path-to-lib&rsaquo;\sevenzipjbinding-Windows-x86.jar;.
  SevenZipJBindingInitCheck
</pre></div>
<p>If the message <!--<span class="filename">7-Zip-JBinding library was initialized</span> -->
<div class="fragment"><pre class="fragment">
7-Zip-JBinding library was initialized
</pre></div>
shows up than 7-Zip-JBinding is working properly and ready for use.</p>
<br>
<br>
<h2>Opening archive</h2>
<p>Before you can do any operation with an archive file, you have to open it. In order to do this
you will need to call one of the corresponding static methods
<a href="javadoc/net/sf/sevenzipjbinding/SevenZip.html">SevenZip</a>.openInArchive(...). The only
manditory parameter is "inStream" - an instance of <a href="javadoc/net/sf/sevenzipjbinding/IInStream.html">IInStream</a></p>
Print count of the items in archive:
<div class="fragment"><pre class="fragment">
ISevenZipInArchive archive 
        = SevenZip.<i>openInArchive</i>(ArchiveFormat.<i>SEVEN_ZIP</i>,
                <b>new</b> RandomAccessFileInStream(<b>new</b> RandomAccessFile(
                <b>new</b> File(<font color="blue">"archive.7z"</font>), "r")));
System.<i>out</i>.println(<font color="blue">"Archive contains "</font> 
        + archive.getNumberOfItems() + <font color="blue">" items :-)"</font>);
</pre></div><br>
Print list of the archived files using standard interface:
<div class="fragment"><pre class="fragment">
ISevenZipInArchive archive
        = SevenZip.<i>openInArchive</i>(ArchiveFormat.<i>SEVEN_ZIP</i>,
                <b>new</b> RandomAccessFileInStream(<b>new</b> RandomAccessFile(
                <b>new</b> File(<font color="blue">"archive.7z"</font>), "r")));
<b>for</b> (int index = 0; index < archive.getNumberOfItems(); index++) {
    System.<i>out</i>.println(
            <font color="blue">"Filename: '"</font> 
            + archive.getProperty(index, PropID.PATH)
            + <font color="blue">"', packed size: "</font> 
            + archive.getProperty(index, PropID.PACKED_SIZE));
}
</pre></div><br>
Print list of the archived files using simple interface:
<div class="fragment"><pre class="fragment">
ISevenZipInArchive archive 
        = SevenZip.<i>openInArchive</i>(ArchiveFormat.<i>SEVEN_ZIP</i>,
                <b>new</b> RandomAccessFileInStream(<b>new</b> RandomAccessFile(
                <b>new</b> File(<font color="blue">"archive.7z"</font>), "r")));
ISimpleInArchive simpleInArchive = archive.getSimpleInterface();
<b>for</b> (ISimpleInArchiveItem inItem : simpleInArchive.getArchiveItems()) {
    System.<i>out</i>.println(<font color="blue">"Filename: '"</font> + inItem.getPath()
            + <font color="blue">"', packed size: "</font> + inItem.getPackedSize());
}
</pre></div><br>
Extract first item of the archive and print it:
<div class="fragment"><pre class="fragment">
ISevenZipInArchive archive 
        = SevenZip.<i>openInArchive</i>(ArchiveFormat.<i>SEVEN_ZIP</i>,
                <b>new</b> RandomAccessFileInStream(<b>new</b> RandomAccessFile(
                <b>new</b> File(<font color="blue">"archive.7z"</font>), "r")));
<b>final</b> StringBuilder stringBuilder = <b>new</b> StringBuilder();
archive.extractSlow(0, <b>new</b> ISequentialOutStream() {
    <font color="#646464">@Override</font>
    <b>public int</b> write(<b>byte</b>[] data) {
        stringBuilder.append(<b>new</b> String(data));
        <b>return</b> data.length; <font color="#3f7f5f">// Amount of processed data</font>
    }
});
System.<i>out</i>.println(stringBuilder.toString());
</pre></div><br>
For more information see <a href="http://sevenzipjbind.wiki.sourceforge.net/FirstSteps">wiki page "First Steps"</a> or 
<a href="http://sevenzipjbind.svn.sourceforge.net/viewvc/sevenzipjbind/trunk/SevenZipTest/">JUnit test project on SVN</a>
</table>
</center>
</table>
</html>
